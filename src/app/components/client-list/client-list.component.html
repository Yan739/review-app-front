<div class="container">
  <h2>Liste de mes clients</h2>

  <form (ngSubmit)="createClient()" class="create-form">
    <input name="email" [(ngModel)]="newEmail" placeholder="Client email" />
    <button type="submit">Create</button>
  </form>

  <div *ngIf="listClients && listClients.length > 0; else empty">
    <ul>
      <li *ngFor="let client of listClients; trackBy: trackById">
        <div *ngIf="editingClientId !== client.id; else editTpl">
          <strong>{{ client.email }}</strong>
          (ID: {{ client.id }})
          <span *ngIf="client.sentiments"> - {{ client.sentiments.length }} sentiments</span>
          <button (click)="startEdit(client)">Edit</button>
          <button (click)="deleteClient(client.id)">Delete</button>
        </div>
        <ng-template #editTpl>
          <input [(ngModel)]="editEmail" />
          <button (click)="updateClient()">Save</button>
          <button (click)="cancelEdit()">Cancel</button>
        </ng-template>
      </li>
    </ul>
  </div>

  <ng-template #empty>
    <p>Aucun client trouv√© pour le moment (La liste est vide).</p>
  </ng-template>
</div>